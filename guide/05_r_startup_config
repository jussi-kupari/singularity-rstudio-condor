# Create/update .Rprofile in project directory
cat > .Rprofile << 'EOF'
cat("Loading project .Rprofile...\n")

# Ensure project R library is first in path
.libPaths(c("/project/R_libs", .libPaths()))

# Set working directory to project
if (interactive()) {
    setwd("/project")
    cat("Working directory set to /project\n")
    cat("Library paths (in priority order):\n")
    for(i in seq_along(.libPaths())) {
        cat(paste0("  ", i, ". ", .libPaths()[i], "\n"))
    }
}

# Auto-load common packages
#suppressPackageStartupMessages({
#    library(tidyverse)
#    library(Seurat)
#})

cat("Ready to work! Package installation will default to /project/R_libs\n")
EOF
